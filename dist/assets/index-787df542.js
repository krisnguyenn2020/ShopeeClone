import{r as j,A as N,u as v,a as y,j as s,L as b,b as w}from"./index-b1f5e089.js";import{u as E,o as L,s as S}from"./rules-4b7e6c0d.js";import{i as A,I as d,B as M}from"./Button-0ae2a424.js";const I=S.omit(["confirm_password"]);function P(){var n,c;const{setIsAuthenticated:g,setProfile:p}=j.useContext(N),u=v(),{register:i,handleSubmit:x,setError:h,formState:{errors:o}}=E({resolver:L(I)}),a=y({mutationFn:t=>w.login(t)}),f=x(t=>{a.mutate(t,{onSuccess:e=>{p(e.data.data.user),g(!0),u("/")},onError:e=>{var l;if(A(e)){const r=(l=e.response)==null?void 0:l.data.data;r&&Object.keys(r).forEach(m=>{h(m,{type:"Server",message:r[m]})})}}})});return s.jsx("div",{className:"bg-orange",children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"grid grid-cols-1 py-20 lg:grid-cols-5 lg:py-12 lg:pr-10",children:s.jsx("div",{className:"lg:col-span-2 lg:col-start-4",children:s.jsxs("form",{className:"rounded bg-white p-10 shadow-sm",onSubmit:f,noValidate:!0,children:[s.jsx("div",{className:"text-4xl",children:"Login"}),s.jsx(d,{name:"email",register:i,type:"email",placeholder:"Email",errorMessage:(n=o.email)==null?void 0:n.message,className:"mt-8"}),s.jsx(d,{name:"password",register:i,type:"password",className:"mt-2",errorMessage:(c=o.password)==null?void 0:c.message,placeholder:"Password"}),s.jsx("div",{className:"mt-3",children:s.jsx(M,{type:"submit",isLoading:a.isLoading,disabled:a.isLoading,className:"mt-2 flex w-full items-center justify-center bg-red-500 px-2 py-4 text-center text-sm uppercase text-white",children:"Login"})}),s.jsxs("div",{className:"mt-8 mt-8 flex items-center justify-center",children:[s.jsx("span",{className:"text-gray-400",children:"Do not have an account yet?"}),s.jsx(b,{className:" ml-2 text-red-400",to:"/register",children:"Register"})]})]})})})})})}export{P as default};
